<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Python Installation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #2c3e50;
            color: #ecf0f1;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .header {
            background-color: #34495e;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo img {
            height: 40px;
            margin-right: 10px;
        }
        .logo h1 {
            margin: 0;
            font-size: 24px;
        }
        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .installation-container {
            background-color: #34495e;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
        }
        .installation-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: #3498db;
        }
        .installation-description {
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .button {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 18px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 10px;
        }
        .button:hover {
            background-color: #27ae60;
        }
        .button.secondary {
            background-color: #3498db;
        }
        .button.secondary:hover {
            background-color: #2980b9;
        }
        .button.warning {
            background-color: #e74c3c;
        }
        .button.warning:hover {
            background-color: #c0392b;
        }
        .progress-container {
            width: 100%;
            margin-top: 20px;
            display: block;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #2c3e50;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        .progress-fill {
            height: 100%;
            background-color: #2ecc71;
            width: 0%;
            transition: width 0.3s ease;
        }
        .progress-text {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
        }
        .loading-details {
            margin-top: 10px;
            font-size: 14px;
            color: #bdc3c7;
            text-align: left;
            max-height: 100px;
            overflow-y: auto;
        }
        .footer {
            background-color: #34495e;
            padding: 10px 20px;
            text-align: center;
            font-size: 14px;
        }
        .footer a {
            color: #3498db;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        .step {
            margin-bottom: 20px;
            text-align: left;
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #3498db;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        .step-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .step-description {
            margin-left: 40px;
            line-height: 1.5;
        }
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="assets/pegasus_logo.png" alt="ThePegasusAI Logo">
            <h1>Kill the VC - Python Setup</h1>
        </div>
    </div>
    
    <div class="content">
        <div class="installation-container">
            <h2 class="installation-title">Python Installation Required</h2>
            <p class="installation-description">
                Kill the VC requires Python to run. We've detected that Python is not installed on your system or cannot be found.
                We'll help you install Python automatically so you can enjoy the game.
            </p>
            
            <div class="step">
                <span class="step-number">1</span>
                <div class="step-title">Download Python</div>
                <div class="step-description">
                    We'll download the official Python installer from python.org (approximately 25MB).
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <div class="step-title">Install Python</div>
                <div class="step-description">
                    The installer will run automatically. You may need to provide administrator permission.
                </div>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <div class="step-title">Setup Game</div>
                <div class="step-description">
                    After Python is installed, we'll automatically set up the game for you.
                </div>
            </div>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                    <div class="progress-text" id="progressText">Ready to install</div>
                </div>
                <div class="loading-details" id="loadingDetails"></div>
            </div>
            
            <div class="button-container">
                <button class="button" id="installBtn">Install Python Now</button>
                <button class="button secondary" id="manualBtn">Manual Installation</button>
                <button class="button warning" id="cancelBtn">Cancel</button>
            </div>
        </div>
    </div>
    
    <div class="footer">
        Â© 2025 ThePegasusAI. All rights reserved. Developed by Iman Jefferson. <a href="https://www.thepegasusai.com/" target="_blank">www.thepegasusai.com</a>
    </div>
    
    <script>
        const { ipcRenderer } = require('electron');
        
        document.getElementById('installBtn').addEventListener('click', () => {
            updateProgress(10, 'Starting Python installation...');
            ipcRenderer.send('install-python');
        });
        
        document.getElementById('manualBtn').addEventListener('click', () => {
            ipcRenderer.send('manual-python-install');
        });
        
        document.getElementById('cancelBtn').addEventListener('click', () => {
            ipcRenderer.send('cancel-python-install');
        });
        
        ipcRenderer.on('python-installation-progress', (event, data) => {
            updateProgress(data.percent, data.message);
        });
        
        ipcRenderer.on('python-download-progress', (event, data) => {
            updateProgress(data.percent, data.message);
        });
        
        function updateProgress(percent, message) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const loadingDetails = document.getElementById('loadingDetails');
            
            progressFill.style.width = `${percent}%`;
            progressText.textContent = `${percent}%`;
            
            if (message) {
                const now = new Date().toLocaleTimeString();
                loadingDetails.innerHTML = `${now}: ${message}<br>` + loadingDetails.innerHTML;
            }
        }
    </script>
</body>
</html>
